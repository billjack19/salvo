$(document).ready(function() {
    var tour = new Tour({
      onEnd: function() {
        endTour.restart();
      },
      steps: [
      {
        placement: 'bottom',
        element: '#ClienteTipoPessoa',
        title: 'Tipo de cliente',
        content: 'Utilize este campo para indicar se o cliente é pessoa física ou jurídica.',
        backdrop: true,
      },
      {
        placement: 'bottom',
        element: '#ClienteNome',
        title: 'Nome',
        content: 'Utilize este campo para indicar o <b>Nome</b> do cliente.',
        backdrop: true,
        onShown: function(tour) {
          var stepElement = getTourElement(tour);
          $(stepElement).after($('.tour-step-background'));
          $(stepElement).after($('.tour-backdrop'));
        },
      },
      {
        placement: 'bottom',
        element: '#ClienteEmail',
        title: 'E-mail',
        content: 'Utilize este campo para indicar o <b>E-mail</b> do cliente.<br><b>Obs.:</b> Este e-mail será utilizado para envio de orçamentos, vendas, faturas, notas fiscais e etc...',
        backdrop: true,
        onShown: function(tour) {
          var stepElement = getTourElement(tour);
          $(stepElement).after($('.tour-step-background'));
          $(stepElement).after($('.tour-backdrop'));
        },
      },
      {
        placement: 'bottom',
        element: '#ClienteTelefone',
        title: 'Telefone',
        content: 'Utilize este campo para indicar o <b>Telefone</b> do cliente.',
        backdrop: true,
        onShown: function(tour) {
          var stepElement = getTourElement(tour);
          $(stepElement).after($('.tour-step-background'));
          $(stepElement).after($('.tour-backdrop'));
        },
      },
      {
        placement: 'bottom',
        element: '#AdicionarEndereco',
        title: 'Endereços',
        content: 'Aqui é possível adicionar mais <b>Endereços</b> do cliente.',
        backdrop: true,
      },
      {
        placement: 'bottom',
        element: '#AdicionarContato',
        title: 'Contatos',
        content: 'Aqui possível adicionar mais <b>Contatos</b> do cliente.',
        backdrop: true,
      },
      {
        placement: 'top',
        element: '#atualizar',
        title: 'Atualizar',
        content: 'Parabéns, agora você já sabe como atualizar um cliente. Para finalizar a atualização basta clicar no botão <b>Atualizar</b>.',
        backdrop: true,
        onShown: function(tour) {
          var stepElement = getTourElement(tour);
          $(stepElement).after($('.tour-step-background'));
          $(stepElement).after($('.tour-backdrop'));
        },
        onNext: function() {
          tour.end();
          endTour.restart();
        },
      },
      {

      }
    ]});

    var endTour = new Tour({
      steps: [
      {
        placement: 'left',
        element: '#start-tour',
        title: 'Passo-a-passo',
        content: 'Sempre que quiser ver este passo-a-passo, clique neste botão.',
        backdrop: true,
        onNext: function() {
          endTour.end();
          $('[href="#dados-gerais"]').click();
        },
      },
      {

      }
    ]});

    $('.start-tour').click(function(){
        $('[href="#dados-gerais"]').click();
        setTimeout(function(){
            tour.restart();
        },500);
    });

    $('.end-tour').click(function(){
        endTour.restart();
    });

});

function getTourElement(tour){
   return tour._options.steps[tour._current].element
}